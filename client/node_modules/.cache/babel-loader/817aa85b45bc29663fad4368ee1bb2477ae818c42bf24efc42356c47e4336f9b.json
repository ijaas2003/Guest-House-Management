{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { verifyLicense } from '../verifyLicense/verifyLicense';\nimport { LicenseInfo } from '../utils/licenseInfo';\nimport { showExpiredAnnualGraceLicenseKeyError, showExpiredAnnualLicenseKeyError, showInvalidLicenseKeyError, showMissingLicenseKeyError, showLicenseKeyPlanMismatchError, showExpiredPackageVersionError } from '../utils/licenseErrorMessageUtils';\nimport { LICENSE_STATUS } from '../utils/licenseStatus';\nimport LicenseInfoContext from '../Unstable_LicenseInfoProvider/LicenseInfoContext';\nexport var sharedLicenseStatuses = {};\nexport function useLicenseVerifier(packageName, releaseInfo) {\n  var _React$useContext = React.useContext(LicenseInfoContext),\n    contextKey = _React$useContext.key;\n  return React.useMemo(function () {\n    var licenseKey = contextKey != null ? contextKey : LicenseInfo.getLicenseKey();\n\n    // Cache the response to not trigger the error twice.\n    if (sharedLicenseStatuses[packageName] && sharedLicenseStatuses[packageName].key === licenseKey) {\n      return sharedLicenseStatuses[packageName].licenseVerifier;\n    }\n    var acceptedScopes = packageName.includes('premium') ? ['premium'] : ['pro', 'premium'];\n    var plan = packageName.includes('premium') ? 'Premium' : 'Pro';\n    var licenseStatus = verifyLicense({\n      releaseInfo: releaseInfo,\n      licenseKey: licenseKey,\n      acceptedScopes: acceptedScopes\n    });\n    sharedLicenseStatuses[packageName] = {\n      key: licenseKey,\n      licenseVerifier: licenseStatus\n    };\n    var fullPackageName = \"@mui/\".concat(packageName);\n    if (licenseStatus.status === LICENSE_STATUS.Valid) {\n      // Skip\n    } else if (licenseStatus.status === LICENSE_STATUS.Invalid) {\n      showInvalidLicenseKeyError();\n    } else if (licenseStatus.status === LICENSE_STATUS.OutOfScope) {\n      showLicenseKeyPlanMismatchError();\n    } else if (licenseStatus.status === LICENSE_STATUS.NotFound) {\n      showMissingLicenseKeyError({\n        plan: plan,\n        packageName: fullPackageName\n      });\n    } else if (licenseStatus.status === LICENSE_STATUS.ExpiredAnnualGrace) {\n      showExpiredAnnualGraceLicenseKeyError(_extends({\n        plan: plan\n      }, licenseStatus.meta));\n    } else if (licenseStatus.status === LICENSE_STATUS.ExpiredAnnual) {\n      showExpiredAnnualLicenseKeyError(_extends({\n        plan: plan\n      }, licenseStatus.meta));\n    } else if (licenseStatus.status === LICENSE_STATUS.ExpiredVersion) {\n      showExpiredPackageVersionError({\n        packageName: fullPackageName\n      });\n    } else if (process.env.NODE_ENV !== 'production') {\n      throw new Error('missing status handler');\n    }\n    return licenseStatus;\n  }, [packageName, releaseInfo, contextKey]);\n}","map":{"version":3,"names":["_extends","React","verifyLicense","LicenseInfo","showExpiredAnnualGraceLicenseKeyError","showExpiredAnnualLicenseKeyError","showInvalidLicenseKeyError","showMissingLicenseKeyError","showLicenseKeyPlanMismatchError","showExpiredPackageVersionError","LICENSE_STATUS","LicenseInfoContext","sharedLicenseStatuses","useLicenseVerifier","packageName","releaseInfo","_React$useContext","useContext","contextKey","key","useMemo","licenseKey","getLicenseKey","licenseVerifier","acceptedScopes","includes","plan","licenseStatus","fullPackageName","concat","status","Valid","Invalid","OutOfScope","NotFound","ExpiredAnnualGrace","meta","ExpiredAnnual","ExpiredVersion","process","env","NODE_ENV","Error"],"sources":["C:/NewPrac/Prac/client/node_modules/@mui/x-license-pro/useLicenseVerifier/useLicenseVerifier.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { verifyLicense } from '../verifyLicense/verifyLicense';\nimport { LicenseInfo } from '../utils/licenseInfo';\nimport { showExpiredAnnualGraceLicenseKeyError, showExpiredAnnualLicenseKeyError, showInvalidLicenseKeyError, showMissingLicenseKeyError, showLicenseKeyPlanMismatchError, showExpiredPackageVersionError } from '../utils/licenseErrorMessageUtils';\nimport { LICENSE_STATUS } from '../utils/licenseStatus';\nimport LicenseInfoContext from '../Unstable_LicenseInfoProvider/LicenseInfoContext';\nexport const sharedLicenseStatuses = {};\nexport function useLicenseVerifier(packageName, releaseInfo) {\n  const {\n    key: contextKey\n  } = React.useContext(LicenseInfoContext);\n  return React.useMemo(() => {\n    const licenseKey = contextKey != null ? contextKey : LicenseInfo.getLicenseKey();\n\n    // Cache the response to not trigger the error twice.\n    if (sharedLicenseStatuses[packageName] && sharedLicenseStatuses[packageName].key === licenseKey) {\n      return sharedLicenseStatuses[packageName].licenseVerifier;\n    }\n    const acceptedScopes = packageName.includes('premium') ? ['premium'] : ['pro', 'premium'];\n    const plan = packageName.includes('premium') ? 'Premium' : 'Pro';\n    const licenseStatus = verifyLicense({\n      releaseInfo,\n      licenseKey,\n      acceptedScopes\n    });\n    sharedLicenseStatuses[packageName] = {\n      key: licenseKey,\n      licenseVerifier: licenseStatus\n    };\n    const fullPackageName = `@mui/${packageName}`;\n    if (licenseStatus.status === LICENSE_STATUS.Valid) {\n      // Skip\n    } else if (licenseStatus.status === LICENSE_STATUS.Invalid) {\n      showInvalidLicenseKeyError();\n    } else if (licenseStatus.status === LICENSE_STATUS.OutOfScope) {\n      showLicenseKeyPlanMismatchError();\n    } else if (licenseStatus.status === LICENSE_STATUS.NotFound) {\n      showMissingLicenseKeyError({\n        plan,\n        packageName: fullPackageName\n      });\n    } else if (licenseStatus.status === LICENSE_STATUS.ExpiredAnnualGrace) {\n      showExpiredAnnualGraceLicenseKeyError(_extends({\n        plan\n      }, licenseStatus.meta));\n    } else if (licenseStatus.status === LICENSE_STATUS.ExpiredAnnual) {\n      showExpiredAnnualLicenseKeyError(_extends({\n        plan\n      }, licenseStatus.meta));\n    } else if (licenseStatus.status === LICENSE_STATUS.ExpiredVersion) {\n      showExpiredPackageVersionError({\n        packageName: fullPackageName\n      });\n    } else if (process.env.NODE_ENV !== 'production') {\n      throw new Error('missing status handler');\n    }\n    return licenseStatus;\n  }, [packageName, releaseInfo, contextKey]);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}