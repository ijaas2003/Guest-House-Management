{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { verifyLicense } from '../verifyLicense/verifyLicense';\nimport { LicenseInfo } from '../utils/licenseInfo';\nimport { showExpiredAnnualGraceLicenseKeyError, showExpiredAnnualLicenseKeyError, showInvalidLicenseKeyError, showMissingLicenseKeyError, showLicenseKeyPlanMismatchError, showExpiredPackageVersionError } from '../utils/licenseErrorMessageUtils';\nimport { LICENSE_STATUS } from '../utils/licenseStatus';\nimport LicenseInfoContext from '../Unstable_LicenseInfoProvider/LicenseInfoContext';\nexport const sharedLicenseStatuses = {};\nexport function useLicenseVerifier(packageName, releaseInfo) {\n  const {\n    key: contextKey\n  } = React.useContext(LicenseInfoContext);\n  return React.useMemo(() => {\n    const licenseKey = contextKey != null ? contextKey : LicenseInfo.getLicenseKey();\n\n    // Cache the response to not trigger the error twice.\n    if (sharedLicenseStatuses[packageName] && sharedLicenseStatuses[packageName].key === licenseKey) {\n      return sharedLicenseStatuses[packageName].licenseVerifier;\n    }\n    const acceptedScopes = packageName.includes('premium') ? ['premium'] : ['pro', 'premium'];\n    const plan = packageName.includes('premium') ? 'Premium' : 'Pro';\n    const licenseStatus = verifyLicense({\n      releaseInfo,\n      licenseKey,\n      acceptedScopes\n    });\n    sharedLicenseStatuses[packageName] = {\n      key: licenseKey,\n      licenseVerifier: licenseStatus\n    };\n    const fullPackageName = `@mui/${packageName}`;\n    if (licenseStatus.status === LICENSE_STATUS.Valid) {\n      // Skip\n    } else if (licenseStatus.status === LICENSE_STATUS.Invalid) {\n      showInvalidLicenseKeyError();\n    } else if (licenseStatus.status === LICENSE_STATUS.OutOfScope) {\n      showLicenseKeyPlanMismatchError();\n    } else if (licenseStatus.status === LICENSE_STATUS.NotFound) {\n      showMissingLicenseKeyError({\n        plan,\n        packageName: fullPackageName\n      });\n    } else if (licenseStatus.status === LICENSE_STATUS.ExpiredAnnualGrace) {\n      showExpiredAnnualGraceLicenseKeyError(_extends({\n        plan\n      }, licenseStatus.meta));\n    } else if (licenseStatus.status === LICENSE_STATUS.ExpiredAnnual) {\n      showExpiredAnnualLicenseKeyError(_extends({\n        plan\n      }, licenseStatus.meta));\n    } else if (licenseStatus.status === LICENSE_STATUS.ExpiredVersion) {\n      showExpiredPackageVersionError({\n        packageName: fullPackageName\n      });\n    } else if (process.env.NODE_ENV !== 'production') {\n      throw new Error('missing status handler');\n    }\n    return licenseStatus;\n  }, [packageName, releaseInfo, contextKey]);\n}","map":{"version":3,"names":["_extends","React","verifyLicense","LicenseInfo","showExpiredAnnualGraceLicenseKeyError","showExpiredAnnualLicenseKeyError","showInvalidLicenseKeyError","showMissingLicenseKeyError","showLicenseKeyPlanMismatchError","showExpiredPackageVersionError","LICENSE_STATUS","LicenseInfoContext","sharedLicenseStatuses","useLicenseVerifier","packageName","releaseInfo","key","contextKey","useContext","useMemo","licenseKey","getLicenseKey","licenseVerifier","acceptedScopes","includes","plan","licenseStatus","fullPackageName","status","Valid","Invalid","OutOfScope","NotFound","ExpiredAnnualGrace","meta","ExpiredAnnual","ExpiredVersion","process","env","NODE_ENV","Error"],"sources":["C:/NewPrac/Prac/client/node_modules/@mui/x-license-pro/useLicenseVerifier/useLicenseVerifier.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { verifyLicense } from '../verifyLicense/verifyLicense';\nimport { LicenseInfo } from '../utils/licenseInfo';\nimport { showExpiredAnnualGraceLicenseKeyError, showExpiredAnnualLicenseKeyError, showInvalidLicenseKeyError, showMissingLicenseKeyError, showLicenseKeyPlanMismatchError, showExpiredPackageVersionError } from '../utils/licenseErrorMessageUtils';\nimport { LICENSE_STATUS } from '../utils/licenseStatus';\nimport LicenseInfoContext from '../Unstable_LicenseInfoProvider/LicenseInfoContext';\nexport const sharedLicenseStatuses = {};\nexport function useLicenseVerifier(packageName, releaseInfo) {\n  const {\n    key: contextKey\n  } = React.useContext(LicenseInfoContext);\n  return React.useMemo(() => {\n    const licenseKey = contextKey != null ? contextKey : LicenseInfo.getLicenseKey();\n\n    // Cache the response to not trigger the error twice.\n    if (sharedLicenseStatuses[packageName] && sharedLicenseStatuses[packageName].key === licenseKey) {\n      return sharedLicenseStatuses[packageName].licenseVerifier;\n    }\n    const acceptedScopes = packageName.includes('premium') ? ['premium'] : ['pro', 'premium'];\n    const plan = packageName.includes('premium') ? 'Premium' : 'Pro';\n    const licenseStatus = verifyLicense({\n      releaseInfo,\n      licenseKey,\n      acceptedScopes\n    });\n    sharedLicenseStatuses[packageName] = {\n      key: licenseKey,\n      licenseVerifier: licenseStatus\n    };\n    const fullPackageName = `@mui/${packageName}`;\n    if (licenseStatus.status === LICENSE_STATUS.Valid) {\n      // Skip\n    } else if (licenseStatus.status === LICENSE_STATUS.Invalid) {\n      showInvalidLicenseKeyError();\n    } else if (licenseStatus.status === LICENSE_STATUS.OutOfScope) {\n      showLicenseKeyPlanMismatchError();\n    } else if (licenseStatus.status === LICENSE_STATUS.NotFound) {\n      showMissingLicenseKeyError({\n        plan,\n        packageName: fullPackageName\n      });\n    } else if (licenseStatus.status === LICENSE_STATUS.ExpiredAnnualGrace) {\n      showExpiredAnnualGraceLicenseKeyError(_extends({\n        plan\n      }, licenseStatus.meta));\n    } else if (licenseStatus.status === LICENSE_STATUS.ExpiredAnnual) {\n      showExpiredAnnualLicenseKeyError(_extends({\n        plan\n      }, licenseStatus.meta));\n    } else if (licenseStatus.status === LICENSE_STATUS.ExpiredVersion) {\n      showExpiredPackageVersionError({\n        packageName: fullPackageName\n      });\n    } else if (process.env.NODE_ENV !== 'production') {\n      throw new Error('missing status handler');\n    }\n    return licenseStatus;\n  }, [packageName, releaseInfo, contextKey]);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}