{"ast":null,"code":"import _regeneratorRuntime from\"C:/NewPrac/Prac/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/NewPrac/Prac/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/NewPrac/Prac/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useAuthContext}from'./useAuthContext';import{useNavigate}from'react-router-dom';import{toast}from'react-toastify';import axios from'axios';var useGuestHouse=function useGuestHouse(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),iserror=_useState2[0],setError=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),isloading=_useState4[0],setLoading=_useState4[1];var _useAuthContext=useAuthContext(),user=_useAuthContext.user;var location=useNavigate();var GuestHouse=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var OwnerEmail,OwnerName,MaxGuest,Room,Kitchen,RentAmount,LimitDays,Address,HouseImg;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:OwnerEmail=_ref.OwnerEmail,OwnerName=_ref.OwnerName,MaxGuest=_ref.MaxGuest,Room=_ref.Room,Kitchen=_ref.Kitchen,RentAmount=_ref.RentAmount,LimitDays=_ref.LimitDays,Address=_ref.Address,HouseImg=_ref.HouseImg;console.log({OwnerEmail:OwnerEmail,OwnerName:OwnerName,MaxGuest:MaxGuest,Room:Room,Kitchen:Kitchen,RentAmount:RentAmount,LimitDays:LimitDays,Address:Address,HouseImg:HouseImg});setError(null);setLoading(true);axios.defaults.maxContentLength=5000000;_context.prev=5;_context.next=8;return fetch('http://localhost:4000/guesthousedata',{method:\"POST\",headers:{\"Authorization\":\"Bearer \".concat(user.token),\"Content-Type\":\"application/json\"},body:JSON.stringify({OwnerEmail:OwnerEmail,OwnerName:OwnerName,MaxGuest:MaxGuest,Room:Room,Kitchen:Kitchen,RentAmount:RentAmount,LimitDays:LimitDays,Address:Address,HouseImg:HouseImg})}).then(function(res){return res.json();}).then(function(data){if(data.Error){toast.error(data.Error);}else{location('/ownerhome');toast.success(\"Successfully Stored in\");}});case 8:_context.next=15;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](5);console.error(_context.t0.Error);setLoading(false);toast.error('An error occurred while saving the data.');case 15:case\"end\":return _context.stop();}},_callee,null,[[5,10]]);}));return function GuestHouse(_x){return _ref2.apply(this,arguments);};}();return{GuestHouse:GuestHouse,isloading:isloading,iserror:iserror};};export default useGuestHouse;","map":{"version":3,"names":["useState","useAuthContext","useNavigate","toast","axios","useGuestHouse","_useState","_useState2","_slicedToArray","iserror","setError","_useState3","_useState4","isloading","setLoading","_useAuthContext","user","location","GuestHouse","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","OwnerEmail","OwnerName","MaxGuest","Room","Kitchen","RentAmount","LimitDays","Address","HouseImg","wrap","_callee$","_context","prev","next","console","log","defaults","maxContentLength","fetch","method","headers","concat","token","body","JSON","stringify","then","res","json","data","Error","error","success","t0","stop","_x","apply","arguments"],"sources":["C:/NewPrac/Prac/client/src/hooks/useGuestHouse.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useAuthContext } from './useAuthContext';\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\n\r\nconst useGuestHouse = () => {\r\n    const [iserror, setError] = useState(null);\r\n    const [isloading, setLoading] = useState(null);\r\n    const {  user } = useAuthContext();\r\n    const location = useNavigate();\r\n    const GuestHouse = async ({ OwnerEmail, OwnerName,  MaxGuest, Room, Kitchen, RentAmount, LimitDays, Address, HouseImg }) => {\r\n        console.log({ OwnerEmail, OwnerName,  MaxGuest, Room, Kitchen, RentAmount, LimitDays, Address, HouseImg });\r\n        setError(null);\r\n        setLoading(true);\r\n        axios.defaults.maxContentLength = 5000000;\r\n        try {\r\n            await fetch('http://localhost:4000/guesthousedata', {\r\n                method:\"POST\",\r\n                headers: {\r\n                    \"Authorization\": `Bearer ${user.token}`,\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body:JSON.stringify({\r\n                    OwnerEmail,\r\n                    OwnerName,\r\n                    MaxGuest,\r\n                    Room,\r\n                    Kitchen,\r\n                    RentAmount,\r\n                    LimitDays,\r\n                    Address,\r\n                    HouseImg:HouseImg\r\n                }) \r\n            }).then((res) => {\r\n                return res.json();\r\n            }).then((data) => {\r\n                if(data.Error){\r\n                    toast.error(data.Error);\r\n                }\r\n                else{\r\n                    location('/ownerhome');\r\n                    toast.success(\"Successfully Stored in\");\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.error(error.Error);\r\n            setLoading(false);\r\n            toast.error('An error occurred while saving the data.');\r\n        }\r\n    }\r\n    return { GuestHouse, isloading, iserror };\r\n}\r\n\r\nexport default useGuestHouse;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}