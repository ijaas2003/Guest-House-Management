{"ast":null,"code":"import _regeneratorRuntime from\"C:/NewPrac/Prac/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/NewPrac/Prac/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/NewPrac/Prac/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/NewPrac/Prac/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/NewPrac/Prac/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useAuthContext}from\"../../hooks/useAuthContext\";import useGuestHouse from\"../../hooks/useGuestHouse\";import TextField from\"@mui/material/TextField\";import Button from\"@mui/material/Button\";import CloudUploadIcon from\"@mui/icons-material/CloudUpload\";import{Images}from\"../../Constants/images\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OwnerAddHouse=function OwnerAddHouse(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setImage=_useState2[1];var _useGuestHouse=useGuestHouse(),GuestHouse=_useGuestHouse.GuestHouse,isLoading=_useGuestHouse.isLoading;var _useAuthContext=useAuthContext(),user=_useAuthContext.user;var initialize={MaxGuest:\"\",Rooms:\"\",Kitchen:\"\",RentAmount:\"\",LimitDays:\"\",Address:\"\"};var _useState3=useState(initialize),_useState4=_slicedToArray(_useState3,2),HouseData=_useState4[0],setData=_useState4[1];var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setData(_objectSpread(_objectSpread({},HouseData),{},_defineProperty({},name,value)));};var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),selectedImages=_useState6[0],setSelectedImages=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),base64Images=_useState8[0],setBase64Images=_useState8[1];var convertToBase64=function convertToBase64(e){var files=e.target.files;var promises=Array.from(files).map(function(file){return new Promise(function(resolve,reject){var reader=new FileReader();reader.onload=function(e){resolve(e.target.result);};reader.onerror=function(error){reject(error);};reader.readAsDataURL(file);});});Promise.all(promises).then(function(results){setSelectedImages(Array.from(files));setBase64Images(results);}).catch(function(error){console.error(\"Error converting images to base64:\",error);});};console.log(base64Images);var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return GuestHouse({OwnerEmail:user.Email,OwnerName:user.Name,MaxGuest:HouseData.MaxGuest,Room:HouseData.Rooms,Kitchen:HouseData.Kitchen,RentAmount:HouseData.RentAmount,LimitDays:HouseData.LimitDays,Address:HouseData.Address,HouseImg:base64Images});case 3:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"h-[100%] w-screen flex justify-center items-center bg-cover\",style:{backgroundImage:\"url(\".concat(Images.BG,\")\")},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"bg-white rounded-lg p-[30px] w-[500px]  flex flex-col gap-[20px]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center h-[200px] w-[100%]\",children:/*#__PURE__*/_jsx(\"img\",{src:Images.Owner,className:\"h-[150px] w-[150px]\"})}),/*#__PURE__*/_jsx(TextField,{label:\"Max Guest\",name:\"MaxGuest\",onChange:handleChange,placeholder:\"Enter the Max Guest\"}),/*#__PURE__*/_jsx(TextField,{label:\"Rooms\",name:\"Rooms\",onChange:handleChange,placeholder:\"Enter the Rooms\"}),/*#__PURE__*/_jsx(TextField,{label:\"Kitchen\",name:\"Kitchen\",onChange:handleChange,placeholder:\"Enter the Kitchen\"}),/*#__PURE__*/_jsx(TextField,{label:\"Rent Amount\",name:\"RentAmount\",onChange:handleChange,placeholder:\"Enter the Rent Amount\"}),/*#__PURE__*/_jsx(TextField,{label:\"Limit Days\",name:\"LimitDays\",onChange:handleChange,placeholder:\"Enter the Limit Days\"}),/*#__PURE__*/_jsx(TextField,{label:\"Address\",name:\"Address\",onChange:handleChange,placeholder:\"Enter the Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,id:\"file-input\",onChange:convertToBase64}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleSubmit,disabled:isLoading,startIcon:/*#__PURE__*/_jsx(CloudUploadIcon,{}),style:{marginTop:\"10px\"},children:\"Submit\"}),image==null?\"\":/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"House Preview\",style:{maxWidth:\"100%\",height:\"auto\",marginTop:\"10px\"}})]})})});};export default OwnerAddHouse;","map":{"version":3,"names":["useState","useAuthContext","useGuestHouse","TextField","Button","CloudUploadIcon","Images","jsx","_jsx","jsxs","_jsxs","OwnerAddHouse","_useState","_useState2","_slicedToArray","image","setImage","_useGuestHouse","GuestHouse","isLoading","_useAuthContext","user","initialize","MaxGuest","Rooms","Kitchen","RentAmount","LimitDays","Address","_useState3","_useState4","HouseData","setData","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","_useState5","_useState6","selectedImages","setSelectedImages","_useState7","_useState8","base64Images","setBase64Images","convertToBase64","files","promises","Array","from","map","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","error","readAsDataURL","all","then","results","catch","console","log","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","preventDefault","OwnerEmail","Email","OwnerName","Name","Room","HouseImg","stop","_x","apply","arguments","className","style","backgroundImage","concat","BG","children","src","Owner","label","onChange","placeholder","type","multiple","id","variant","color","onClick","disabled","startIcon","marginTop","alt","maxWidth","height"],"sources":["C:/NewPrac/Prac/client/src/Components/Owner/OwnerAddHouse.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\r\nimport useGuestHouse from \"../../hooks/useGuestHouse\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\nimport CloudUploadIcon from \"@mui/icons-material/CloudUpload\";\r\nimport { Images } from \"../../Constants/images\";\r\n\r\nconst OwnerAddHouse = () => {\r\n  const [image, setImage] = useState(null);\r\n  const { GuestHouse, isLoading } = useGuestHouse();\r\n  const { user } = useAuthContext();\r\n  const initialize = {\r\n    MaxGuest: \"\",\r\n    Rooms: \"\",\r\n    Kitchen: \"\",\r\n    RentAmount: \"\",\r\n    LimitDays: \"\",\r\n    Address: \"\",\r\n  };\r\n  const [HouseData, setData] = useState(initialize);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...HouseData, [name]: value });\r\n  };\r\n  const [selectedImages, setSelectedImages] = useState([]);\r\n  const [base64Images, setBase64Images] = useState([]);\r\n  const convertToBase64 = (e) => {\r\n    const files = e.target.files;\r\n    const promises = Array.from(files).map((file) => {\r\n      return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n\r\n        reader.onload = (e) => {\r\n          resolve(e.target.result);\r\n        };\r\n\r\n        reader.onerror = (error) => {\r\n          reject(error);\r\n        };\r\n\r\n        reader.readAsDataURL(file);\r\n      });\r\n    });\r\n    Promise.all(promises)\r\n        .then((results) => {\r\n          setSelectedImages(Array.from(files));\r\n          setBase64Images(results);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error converting images to base64:\", error);\r\n        });\r\n  };\r\nconsole.log(base64Images);\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    await GuestHouse({\r\n      OwnerEmail: user.Email,\r\n      OwnerName: user.Name,\r\n      MaxGuest: HouseData.MaxGuest,\r\n      Room: HouseData.Rooms,\r\n      Kitchen: HouseData.Kitchen,\r\n      RentAmount: HouseData.RentAmount,\r\n      LimitDays: HouseData.LimitDays,\r\n      Address: HouseData.Address,\r\n      HouseImg: base64Images,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-[100%] w-screen flex justify-center items-center bg-cover\" style={{ backgroundImage:`url(${Images.BG})` }}>\r\n    <div>\r\n      <form className=\"bg-white rounded-lg p-[30px] w-[500px]  flex flex-col gap-[20px]\" >\r\n        <div className=\"flex justify-center h-[200px] w-[100%]\"> \r\n          <img src={Images.Owner} className=\"h-[150px] w-[150px]\"/>\r\n        </div>\r\n        <TextField\r\n          label=\"Max Guest\"\r\n          name=\"MaxGuest\"\r\n          onChange={handleChange}\r\n          placeholder=\"Enter the Max Guest\"\r\n        />\r\n        <TextField\r\n          label=\"Rooms\"\r\n          name=\"Rooms\"\r\n          onChange={handleChange}\r\n          placeholder=\"Enter the Rooms\"\r\n        />\r\n        <TextField\r\n          label=\"Kitchen\"\r\n          name=\"Kitchen\"\r\n          onChange={handleChange}\r\n          placeholder=\"Enter the Kitchen\"\r\n        />\r\n        <TextField\r\n          label=\"Rent Amount\"\r\n          name=\"RentAmount\"\r\n          onChange={handleChange}\r\n          placeholder=\"Enter the Rent Amount\"\r\n        />\r\n        <TextField\r\n          label=\"Limit Days\"\r\n          name=\"LimitDays\"\r\n          onChange={handleChange}\r\n          placeholder=\"Enter the Limit Days\"\r\n        />\r\n        <TextField\r\n          label=\"Address\"\r\n          name=\"Address\"\r\n          onChange={handleChange}\r\n          placeholder=\"Enter the Address\"\r\n        />\r\n        <input\r\n          type=\"file\"\r\n          multiple\r\n          id=\"file-input\"\r\n          onChange={convertToBase64}\r\n        />\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={handleSubmit}\r\n          disabled={isLoading}\r\n          startIcon={<CloudUploadIcon />}\r\n          style={{ marginTop: \"10px\" }}\r\n        >\r\n          Submit\r\n        </Button>\r\n        {image == null ? \"\" : <img src={image} alt=\"House Preview\" style={{ maxWidth: \"100%\", height: \"auto\", marginTop: \"10px\" }} />}\r\n      </form>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OwnerAddHouse;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}