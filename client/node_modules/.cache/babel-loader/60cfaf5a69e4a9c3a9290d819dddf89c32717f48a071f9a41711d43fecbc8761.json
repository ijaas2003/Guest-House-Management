{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useAuthContext } from './useAuthContext';\nimport { json, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport axios from 'axios'; // Import Axios\n\nconst useGuestHouse = () => {\n  _s();\n  const [iserror, setError] = useState(null);\n  const [isloading, setLoading] = useState(null);\n  const {\n    dispatch,\n    user\n  } = useAuthContext();\n  const location = useNavigate();\n  const GuestHouse = async ({\n    OwnerEmail,\n    OwnerName,\n    MaxGuest,\n    Room,\n    Kitchen,\n    RentAmount,\n    LimitDays,\n    Address,\n    HouseImg\n  }) => {\n    console.log({\n      OwnerEmail,\n      OwnerName,\n      MaxGuest,\n      Room,\n      Kitchen,\n      RentAmount,\n      LimitDays,\n      Address,\n      HouseImg\n    });\n    setError(null);\n    setLoading(true);\n    axios.defaults.maxContentLength = 5000000;\n    try {\n      await fetch('http://localhost:4000/guesthousedata', {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${user.token}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          OwnerEmail,\n          OwnerName,\n          MaxGuest,\n          Room,\n          Kitchen,\n          RentAmount,\n          LimitDays,\n          Address,\n          HouseImg: HouseImg\n        })\n      }).then(res => {\n        return res.json();\n      }).then(data => {\n        if (data.Error) {\n          toast.error(data.Error);\n        } else {\n          toast.success(\"Successfully Stored in\");\n        }\n      });\n    } catch (error) {\n      console.error(error.Error);\n      setLoading(false);\n      toast.error('An error occurred while saving the data.');\n    }\n  };\n  return {\n    GuestHouse,\n    isloading,\n    iserror\n  };\n};\n_s(useGuestHouse, \"tekAbJK6eQ1MURRi5TMbjVGjzg4=\", false, function () {\n  return [useAuthContext, useNavigate];\n});\nexport default useGuestHouse;","map":{"version":3,"names":["useState","useAuthContext","json","useNavigate","toast","axios","useGuestHouse","_s","iserror","setError","isloading","setLoading","dispatch","user","location","GuestHouse","OwnerEmail","OwnerName","MaxGuest","Room","Kitchen","RentAmount","LimitDays","Address","HouseImg","console","log","defaults","maxContentLength","fetch","method","headers","token","body","JSON","stringify","then","res","data","Error","error","success"],"sources":["C:/NewPrac/Prac/client/src/hooks/useGuestHouse.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useAuthContext } from './useAuthContext';\r\nimport { json, useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios'; // Import Axios\r\n\r\nconst useGuestHouse = () => {\r\n    const [iserror, setError] = useState(null);\r\n    const [isloading, setLoading] = useState(null);\r\n    const { dispatch, user } = useAuthContext();\r\n    const location = useNavigate();\r\n    const GuestHouse = async ({ OwnerEmail, OwnerName,  MaxGuest, Room, Kitchen, RentAmount, LimitDays, Address, HouseImg }) => {\r\n        console.log({ OwnerEmail, OwnerName,  MaxGuest, Room, Kitchen, RentAmount, LimitDays, Address, HouseImg });\r\n        setError(null);\r\n        setLoading(true);\r\n        axios.defaults.maxContentLength = 5000000;\r\n        try {\r\n            await fetch('http://localhost:4000/guesthousedata', {\r\n                method:\"POST\",\r\n                headers: {\r\n                    \"Authorization\": `Bearer ${user.token}`,\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body:JSON.stringify({\r\n                    OwnerEmail,\r\n                    OwnerName,\r\n                    MaxGuest,\r\n                    Room,\r\n                    Kitchen,\r\n                    RentAmount,\r\n                    LimitDays,\r\n                    Address,\r\n                    HouseImg:HouseImg\r\n                }) \r\n            }).then((res) => {\r\n                return res.json();\r\n            }).then((data) => {\r\n                if(data.Error){\r\n                    toast.error(data.Error);\r\n                }\r\n                else{\r\n                    toast.success(\"Successfully Stored in\");\r\n                }\r\n            })\r\n            \r\n            \r\n        } catch (error) {\r\n            console.error(error.Error);\r\n            setLoading(false);\r\n            toast.error('An error occurred while saving the data.');\r\n        }\r\n    }\r\n    return { GuestHouse, isloading, iserror };\r\n}\r\n\r\nexport default useGuestHouse;\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,cAAc,QAAQ,kBAAkB;AACjD,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAOC,KAAK,MAAM,OAAO,CAAC,CAAC;;AAE3B,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM,CAACC,OAAO,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACU,SAAS,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM;IAAEY,QAAQ;IAAEC;EAAK,CAAC,GAAGZ,cAAc,CAAC,CAAC;EAC3C,MAAMa,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAC9B,MAAMY,UAAU,GAAG,MAAAA,CAAO;IAAEC,UAAU;IAAEC,SAAS;IAAGC,QAAQ;IAAEC,IAAI;IAAEC,OAAO;IAAEC,UAAU;IAAEC,SAAS;IAAEC,OAAO;IAAEC;EAAS,CAAC,KAAK;IACxHC,OAAO,CAACC,GAAG,CAAC;MAAEV,UAAU;MAAEC,SAAS;MAAGC,QAAQ;MAAEC,IAAI;MAAEC,OAAO;MAAEC,UAAU;MAAEC,SAAS;MAAEC,OAAO;MAAEC;IAAS,CAAC,CAAC;IAC1Gf,QAAQ,CAAC,IAAI,CAAC;IACdE,UAAU,CAAC,IAAI,CAAC;IAChBN,KAAK,CAACsB,QAAQ,CAACC,gBAAgB,GAAG,OAAO;IACzC,IAAI;MACA,MAAMC,KAAK,CAAC,sCAAsC,EAAE;QAChDC,MAAM,EAAC,MAAM;QACbC,OAAO,EAAE;UACL,eAAe,EAAG,UAASlB,IAAI,CAACmB,KAAM,EAAC;UACvC,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAACC,IAAI,CAACC,SAAS,CAAC;UAChBnB,UAAU;UACVC,SAAS;UACTC,QAAQ;UACRC,IAAI;UACJC,OAAO;UACPC,UAAU;UACVC,SAAS;UACTC,OAAO;UACPC,QAAQ,EAACA;QACb,CAAC;MACL,CAAC,CAAC,CAACY,IAAI,CAAEC,GAAG,IAAK;QACb,OAAOA,GAAG,CAACnC,IAAI,CAAC,CAAC;MACrB,CAAC,CAAC,CAACkC,IAAI,CAAEE,IAAI,IAAK;QACd,IAAGA,IAAI,CAACC,KAAK,EAAC;UACVnC,KAAK,CAACoC,KAAK,CAACF,IAAI,CAACC,KAAK,CAAC;QAC3B,CAAC,MACG;UACAnC,KAAK,CAACqC,OAAO,CAAC,wBAAwB,CAAC;QAC3C;MACJ,CAAC,CAAC;IAGN,CAAC,CAAC,OAAOD,KAAK,EAAE;MACZf,OAAO,CAACe,KAAK,CAACA,KAAK,CAACD,KAAK,CAAC;MAC1B5B,UAAU,CAAC,KAAK,CAAC;MACjBP,KAAK,CAACoC,KAAK,CAAC,0CAA0C,CAAC;IAC3D;EACJ,CAAC;EACD,OAAO;IAAEzB,UAAU;IAAEL,SAAS;IAAEF;EAAQ,CAAC;AAC7C,CAAC;AAAAD,EAAA,CA/CKD,aAAa;EAAA,QAGYL,cAAc,EACxBE,WAAW;AAAA;AA6ChC,eAAeG,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}