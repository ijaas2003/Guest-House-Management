{"ast":null,"code":"import _objectSpread from\"C:/NewPrac/Prac/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/NewPrac/Prac/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useReducer,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthContext=/*#__PURE__*/createContext();export var authReducer=function authReducer(state,action){switch(action.type){case'Login':return{user:action.payload};case'Logout':return{user:null};case'House':return{owner:action.payload};default:return state;}};export var AuthContextProvider=function AuthContextProvider(_ref){var children=_ref.children;var _useReducer=useReducer(authReducer,{user:null,owner:null}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){var user=JSON.parse(localStorage.getItem('User'));var owner=JSON.parse(localStorage.getItem('OwnerHouse'));if(owner){dispatch({type:\"House\",payload:owner});}if(user){dispatch({type:\"Login\",payload:user});}},[]);console.log(\"Authendicate\",state);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{dispatch:dispatch}),children:children});};","map":{"version":3,"names":["createContext","useReducer","useEffect","jsx","_jsx","AuthContext","authReducer","state","action","type","user","payload","owner","AuthContextProvider","_ref","children","_useReducer","_useReducer2","_slicedToArray","dispatch","JSON","parse","localStorage","getItem","console","log","Provider","value","_objectSpread"],"sources":["C:/NewPrac/Prac/client/src/Contexts/AuthContext.js"],"sourcesContent":["import { createContext, useReducer, useEffect } from 'react'\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const authReducer = (state, action) => {\r\n    switch(action.type){\r\n        case 'Login':\r\n            return { user: action.payload }\r\n        case 'Logout':\r\n            return { user: null }\r\n        case 'House':\r\n            return { owner: action.payload }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n    const [ state, dispatch ] = useReducer(authReducer, {\r\n        user : null,\r\n        owner: null,\r\n    });\r\n    useEffect(() => {\r\n        const user = JSON.parse(localStorage.getItem('User'));\r\n        const owner = JSON.parse(localStorage.getItem('OwnerHouse'));\r\n        if(owner){\r\n            dispatch({ type: \"House\", payload: owner })\r\n        }\r\n        if(user){\r\n            dispatch({ type: \"Login\", payload: user });\r\n        }\r\n    },[])\r\n    console.log(\"Authendicate\", state);\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ ...state, dispatch }}>\r\n            { children }\r\n        </AuthContext.Provider>\r\n    )\r\n}"],"mappings":"uNAAA,OAASA,aAAa,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,QAAAC,GAAA,IAAAC,IAAA,yBAE5D,MAAO,IAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAE1C,MAAO,IAAM,CAAAM,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,KAAK,CAAEC,MAAM,CAAK,CAC1C,OAAOA,MAAM,CAACC,IAAI,EACd,IAAK,OAAO,CACR,MAAO,CAAEC,IAAI,CAAEF,MAAM,CAACG,OAAQ,CAAC,CACnC,IAAK,QAAQ,CACT,MAAO,CAAED,IAAI,CAAE,IAAK,CAAC,CACzB,IAAK,OAAO,CACR,MAAO,CAAEE,KAAK,CAAEJ,MAAM,CAACG,OAAQ,CAAC,CACpC,QACI,MAAO,CAAAJ,KAAK,CACpB,CACJ,CAAC,CAED,MAAO,IAAM,CAAAM,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAC1C,IAAAC,WAAA,CAA4Bf,UAAU,CAACK,WAAW,CAAE,CAChDI,IAAI,CAAG,IAAI,CACXE,KAAK,CAAE,IACX,CAAC,CAAC,CAAAK,YAAA,CAAAC,cAAA,CAAAF,WAAA,IAHMT,KAAK,CAAAU,YAAA,IAAEE,QAAQ,CAAAF,YAAA,IAIvBf,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAQ,IAAI,CAAGU,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CACrD,GAAM,CAAAX,KAAK,CAAGQ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC,CAC5D,GAAGX,KAAK,CAAC,CACLO,QAAQ,CAAC,CAAEV,IAAI,CAAE,OAAO,CAAEE,OAAO,CAAEC,KAAM,CAAC,CAAC,CAC/C,CACA,GAAGF,IAAI,CAAC,CACJS,QAAQ,CAAC,CAAEV,IAAI,CAAE,OAAO,CAAEE,OAAO,CAAED,IAAK,CAAC,CAAC,CAC9C,CACJ,CAAC,CAAC,EAAE,CAAC,CACLc,OAAO,CAACC,GAAG,CAAC,cAAc,CAAElB,KAAK,CAAC,CAElC,mBACIH,IAAA,CAACC,WAAW,CAACqB,QAAQ,EAACC,KAAK,CAAAC,aAAA,CAAAA,aAAA,IAAOrB,KAAK,MAAEY,QAAQ,CAARA,QAAQ,EAAG,CAAAJ,QAAA,CAC9CA,QAAQ,CACQ,CAAC,CAE/B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}