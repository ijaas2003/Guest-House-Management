{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useAuthContext } from './useAuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport axios from 'axios';\nconst useGuestHouse = () => {\n  _s();\n  const [iserror, setError] = useState(null);\n  const [isloading, setLoading] = useState(null);\n  const {\n    user\n  } = useAuthContext();\n  const location = useNavigate();\n  const GuestHouse = async ({\n    OwnerEmail,\n    OwnerName,\n    MaxGuest,\n    Room,\n    Kitchen,\n    RentAmount,\n    LimitDays,\n    Address,\n    HouseImg\n  }) => {\n    setError(null);\n    setLoading(true);\n    // this is for the limit set to axios for sending the BASE64 to server \n    // the base64 length is too high so to increase the content length to 5000000.\n    axios.defaults.maxContentLength = 5000000;\n    try {\n      //this the api call to backend to send the house data to the endpoint\n      await fetch('http://localhost:4000/guesthousedata', {\n        method: \"POST\",\n        headers: {\n          \"Authorization\": `Bearer ${user.token}`,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          OwnerEmail,\n          OwnerName,\n          MaxGuest,\n          Room,\n          Kitchen,\n          RentAmount,\n          LimitDays,\n          Address,\n          HouseImg: HouseImg\n        })\n      }).then(res => {\n        return res.json();\n      }).then(data => {\n        if (data.Error) {\n          toast.error(data.Error);\n        } else {\n          location('/ownerhome');\n          toast.success(\"Successfully Stored in\");\n        }\n      });\n    } catch (error) {\n      setLoading(false);\n      toast.error('An error occurred while saving the data.');\n    }\n  };\n  return {\n    GuestHouse,\n    isloading,\n    iserror\n  };\n};\n_s(useGuestHouse, \"QuhWhFmvn62FmwwJdmFj2TUl1jo=\", false, function () {\n  return [useAuthContext, useNavigate];\n});\nexport default useGuestHouse;","map":{"version":3,"names":["useState","useAuthContext","useNavigate","toast","axios","useGuestHouse","_s","iserror","setError","isloading","setLoading","user","location","GuestHouse","OwnerEmail","OwnerName","MaxGuest","Room","Kitchen","RentAmount","LimitDays","Address","HouseImg","defaults","maxContentLength","fetch","method","headers","token","body","JSON","stringify","then","res","json","data","Error","error","success"],"sources":["C:/NewPrac/Prac/client/src/hooks/useGuestHouse.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useAuthContext } from './useAuthContext';\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\n\r\nconst useGuestHouse = () => {\r\n    const [iserror, setError] = useState(null);\r\n    const [isloading, setLoading] = useState(null);\r\n    const {  user } = useAuthContext();\r\n    const location = useNavigate();\r\n    const GuestHouse = async ({ OwnerEmail, OwnerName,  MaxGuest, Room, Kitchen, RentAmount, LimitDays, Address, HouseImg }) => {\r\n        setError(null);\r\n        setLoading(true);\r\n        // this is for the limit set to axios for sending the BASE64 to server \r\n        // the base64 length is too high so to increase the content length to 5000000.\r\n        axios.defaults.maxContentLength = 5000000;\r\n        try {\r\n            //this the api call to backend to send the house data to the endpoint\r\n            await fetch('http://localhost:4000/guesthousedata', {\r\n                method:\"POST\",\r\n                headers: {\r\n                    \"Authorization\": `Bearer ${user.token}`,\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body:JSON.stringify({\r\n                    OwnerEmail,\r\n                    OwnerName,\r\n                    MaxGuest,\r\n                    Room,\r\n                    Kitchen,\r\n                    RentAmount,\r\n                    LimitDays,\r\n                    Address,\r\n                    HouseImg:HouseImg\r\n                }) \r\n            }).then((res) => {\r\n                return res.json();\r\n            }).then((data) => {\r\n                if(data.Error){\r\n                    toast.error(data.Error);\r\n                }\r\n                else{\r\n                    location('/ownerhome');\r\n                    toast.success(\"Successfully Stored in\");\r\n                }\r\n            })\r\n        } catch (error) {\r\n            setLoading(false);\r\n            toast.error('An error occurred while saving the data.');\r\n        }\r\n    }\r\n    return { GuestHouse, isloading, iserror };\r\n}\r\n\r\nexport default useGuestHouse;\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,cAAc,QAAQ,kBAAkB;AACjD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM,CAACC,OAAO,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACS,SAAS,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM;IAAGW;EAAK,CAAC,GAAGV,cAAc,CAAC,CAAC;EAClC,MAAMW,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAC9B,MAAMW,UAAU,GAAG,MAAAA,CAAO;IAAEC,UAAU;IAAEC,SAAS;IAAGC,QAAQ;IAAEC,IAAI;IAAEC,OAAO;IAAEC,UAAU;IAAEC,SAAS;IAAEC,OAAO;IAAEC;EAAS,CAAC,KAAK;IACxHd,QAAQ,CAAC,IAAI,CAAC;IACdE,UAAU,CAAC,IAAI,CAAC;IAChB;IACA;IACAN,KAAK,CAACmB,QAAQ,CAACC,gBAAgB,GAAG,OAAO;IACzC,IAAI;MACA;MACA,MAAMC,KAAK,CAAC,sCAAsC,EAAE;QAChDC,MAAM,EAAC,MAAM;QACbC,OAAO,EAAE;UACL,eAAe,EAAG,UAAShB,IAAI,CAACiB,KAAM,EAAC;UACvC,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAACC,IAAI,CAACC,SAAS,CAAC;UAChBjB,UAAU;UACVC,SAAS;UACTC,QAAQ;UACRC,IAAI;UACJC,OAAO;UACPC,UAAU;UACVC,SAAS;UACTC,OAAO;UACPC,QAAQ,EAACA;QACb,CAAC;MACL,CAAC,CAAC,CAACU,IAAI,CAAEC,GAAG,IAAK;QACb,OAAOA,GAAG,CAACC,IAAI,CAAC,CAAC;MACrB,CAAC,CAAC,CAACF,IAAI,CAAEG,IAAI,IAAK;QACd,IAAGA,IAAI,CAACC,KAAK,EAAC;UACVjC,KAAK,CAACkC,KAAK,CAACF,IAAI,CAACC,KAAK,CAAC;QAC3B,CAAC,MACG;UACAxB,QAAQ,CAAC,YAAY,CAAC;UACtBT,KAAK,CAACmC,OAAO,CAAC,wBAAwB,CAAC;QAC3C;MACJ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOD,KAAK,EAAE;MACZ3B,UAAU,CAAC,KAAK,CAAC;MACjBP,KAAK,CAACkC,KAAK,CAAC,0CAA0C,CAAC;IAC3D;EACJ,CAAC;EACD,OAAO;IAAExB,UAAU;IAAEJ,SAAS;IAAEF;EAAQ,CAAC;AAC7C,CAAC;AAAAD,EAAA,CA/CKD,aAAa;EAAA,QAGGJ,cAAc,EACfC,WAAW;AAAA;AA6ChC,eAAeG,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}